{
	"info": {
		"_postman_id": "c9a4e3c2-3e3e-4c3e-8e3e-3e3e3e3e3e3e",
		"name": "Company Chatbot API - Final",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
        {
            "name": "Root",
            "item": [
                {
                    "name": "Get Root",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                ""
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Health Check",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/health",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "health"
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
		{
			"name": "Authentication",
			"item": [
				{
					"name": "1. Company Signup (Create Company & First Admin)",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"company_name\": \"PT Cemerlang Jaya\",\n    \"company_code\": \"CMJ\",\n    \"company_logo\": \"http://example.com/logo.png\",\n    \"admin_name\": \"Admin Utama\",\n    \"admin_email\": \"admin.utama@cemerlang.com\",\n    \"admin_password\": \"SuperSecretAdminPass!\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/auth/company-signup",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"company-signup"
							]
						}
					},
					"response": []
				},
				{
					"name": "2. Employee Self-Registration",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Budi Karyawan\",\n    \"email\": \"budi.k@cemerlang.com\",\n    \"password\": \"SecurePassword123!\",\n    \"role\": \"employee\",\n    \"Companyid\": 1,\n    \"Divisionid\": 1\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/auth/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "3. Login (Active Users Only)",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "username",
									"value": "admin.utama@cemerlang.com",
									"type": "text"
								},
								{
									"key": "password",
									"value": "SuperSecretAdminPass!",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/auth/token",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"token"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Current User",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/auth/me",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"me"
							]
						}
					},
					"response": []
				}
			]
		},
        {
            "name": "Admin",
            "item": [
                {
                    "name": "List Pending Users",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/pending-users",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "pending-users"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Approve User",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/users/2/approve",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "users",
                                "2",
                                "approve"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Reject User",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/users/2/reject",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "users",
                                "2",
                                "reject"
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
		{
			"name": "Chat",
			"item": [
				{
					"name": "Chat with AI",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"message\": \"Berapa total penjualan bulan ini?\",\n    \"conversation_id\": \"optional-uuid\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/chat",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"chat"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Chatlogs",
			"item": [
				{
					"name": "List Chatlogs",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/chatlogs/?company_id=1&user_id=1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"chatlogs",
								""
							],
							"query": [
								{
									"key": "company_id",
									"value": "1"
								},
								{
									"key": "user_id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Companies",
			"item": [
				{
					"name": "List Companies",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/companies/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"companies",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Company by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/companies/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"companies",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Company Users",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/companies/1/users/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"companies",
								"1",
								"users",
								""
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Divisions",
			"item": [
				{
					"name": "Create Division",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Divisi Marketing\",\n    \"Companyid\": 1\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/divisions/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"divisions",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "List Divisions",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/divisions/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"divisions",
								""
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Documents",
			"item": [
				{
					"name": "Upload Document to RAG",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"type": "file",
									"src": []
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/documents/upload",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"documents",
								"upload"
							]
						}
					},
					"response": []
				},
				{
					"name": "List RAG Documents",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/documents/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"documents",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete RAG Document",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/documents/example.pdf",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"documents",
								"example.pdf"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Document (Database)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"Financial Report Q3\",\n    \"isi_dokumen\": \"This is the content of the financial report for Q3.\",\n    \"Companyid\": 1\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/documents/db",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"documents",
								"db"
							]
						}
					},
					"response": []
				},
				{
					"name": "List Documents (Database)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/documents/db",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"documents",
								"db"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Document by ID (Database)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/documents/1/db",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"documents",
								"1",
								"db"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000",
			"type": "default"
		},
		{
			"key": "auth_token",
			"value": "",
			"type": "default"
		}
	]
}